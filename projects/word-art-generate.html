<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Visual Agent - Painterly Demo</title>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.4/lib/p5.min.js"></script>
  <style>
    body {
      background: #111;
      color: #eee;
      font-family: sans-serif;
      text-align: center;
    }
    canvas { margin-top: 10px; border: 2px solid #333; }
    input, button { padding: 8px; margin: 5px; border-radius: 5px; border: none; }
    button { cursor: pointer; background: #444; color: white; }
    button:hover { background: #666; }
  </style>
</head>
<body>
  <h1>ðŸŽ¨ AI Visual Agent - Painterly Demo</h1>
  <input id="prompt" placeholder="Type a prompt (e.g., bear, cat, sun)">
  <button onclick="generateArt()">Draw</button>
  <button onclick="saveCanvas('drawing','png')">Save PNG</button>

  <script>
    let promptWord = "";

    function setup() {
      createCanvas(600, 400);
      background("#222");
      noLoop();
    }

    function fuzzyBrush(x, y, size, col) {
      noStroke();
      fill(col[0], col[1], col[2], 100);
      for (let i = 0; i < 40; i++) {
        ellipse(x + random(-size/2, size/2),
                y + random(-size/2, size/2),
                random(size*0.7, size));
      }
    }

    function generateArt() {
      promptWord = document.getElementById("prompt").value.toLowerCase();
      background("#222");
      drawPrompt();
    }

    function drawPrompt() {
      // Animals
      if (promptWord.includes("bear")) {
        fuzzyBrush(width/2, height/2+40, 120, [139,69,19]);
        fuzzyBrush(width/2, height/2-40, 80, [139,69,19]);
        fuzzyBrush(width/2-40, height/2-80, 40, [139,69,19]);
        fuzzyBrush(width/2+40, height/2-80, 40, [139,69,19]);
        fill(0); ellipse(width/2-15, height/2-45, 15);
        ellipse(width/2+15, height/2-45, 15);
        fill(0); ellipse(width/2, height/2-20, 20, 15);
        noFill(); stroke(0); strokeWeight(3);
        arc(width/2, height/2-10, 40, 20, 0, PI);
      } 
      else if (promptWord.includes("cat")) {
        fuzzyBrush(width/2, height/2, 100, [200,150,100]);
        fuzzyBrush(width/2, height/2-70, 70, [200,150,100]);
        triangle(width/2-40, height/2-80, width/2-20, height/2-120, width/2, height/2-80);
        triangle(width/2+40, height/2-80, width/2+20, height/2-120, width/2, height/2-80);
        fill(0); ellipse(width/2-15, height/2-75, 10); ellipse(width/2+15, height/2-75, 10);
        line(width/2-30, height/2-60, width/2-70, height/2-70);
        line(width/2-30, height/2-50, width/2-70, height/2-50);
        line(width/2+30, height/2-60, width/2+70, height/2-70);
        line(width/2+30, height/2-50, width/2+70, height/2-50);
      }
      else if (promptWord.includes("dog")) {
        fuzzyBrush(width/2, height/2, 100, [160,82,45]);
        fuzzyBrush(width/2, height/2-60, 60, [160,82,45]);
        fuzzyBrush(width/2-35, height/2-80, 30, [160,82,45]);
        fuzzyBrush(width/2+35, height/2-80, 30, [160,82,45]);
        fill(0); ellipse(width/2-10, height/2-60, 10); ellipse(width/2+10, height/2-60, 10);
        fill(0); ellipse(width/2, height/2-40, 15,10);
        noFill(); stroke(0); strokeWeight(2); arc(width/2, height/2-30, 30, 15, 0, PI);
      }
      else if (promptWord.includes("fish")) {
        fill(100,150,255); ellipse(width/2, height/2, 120, 60);
        triangle(width/2+60, height/2, width/2+100, height/2-30, width/2+100, height/2+30);
        fill(0); ellipse(width/2-40, height/2-10, 8);
      }
      else if (promptWord.includes("bird")) {
        fuzzyBrush(width/2, height/2, 60, [255,255,100]);
        triangle(width/2-30, height/2, width/2-50, height/2-20, width/2-10, height/2-20);
        triangle(width/2+30, height/2, width/2+50, height/2-20, width/2+10, height/2-20);
        fill(0); ellipse(width/2, height/2-10, 8);
      }
      // Nature
      else if (promptWord.includes("flower")) {
        for (let a=0; a<TWO_PI; a+=PI/4) {
          let x = width/2 + cos(a)*60;
          let y = height/2 + sin(a)*60;
          fuzzyBrush(x, y, 50, [255,100,150]);
        }
        fill(255,200,0); ellipse(width/2, height/2, 50);
      }
      else if (promptWord.includes("tree")) {
        fill(101,67,33); rect(width/2-20, height/2, 40, 120);
        fuzzyBrush(width/2, height/2-60, 150, [34,139,34]);
      }
      else if (promptWord.includes("mountain")) {
        fill(100,100,100); triangle(100,400,300,100,500,400);
        fill(120,120,120); triangle(300,400,500,150,700,400);
        fill(255); triangle(260,160,300,100,340,160);
      }
      else if (promptWord.includes("sun")) {
        fill(255,204,0); ellipse(width/2, height/2, 150);
        for (let a=0; a<TWO_PI; a+=PI/12) {
          line(width/2, height/2, width/2+cos(a)*100, height/2+sin(a)*100);
        }
      }
      else if (promptWord.includes("moon")) {
        fill(220,220,220); ellipse(width/2, height/2, 120);
        fill(34,34,34); ellipse(width/2+30, height/2-20, 50);
      }
      else if (promptWord.includes("cloud")) {
        fuzzyBrush(width/2, height/2, 150, [200,200,200]);
      }
      // Objects
      else if (promptWord.includes("house")) {
        fill(200,100,50); rect(width/2-80, height/2, 160, 120);
        fill(150,50,30); triangle(width/2-90, height/2, width/2, height/2-100, width/2+90, height/2);
        fill(80); rect(width/2-20, height/2+40, 40, 80);
        fill(180,220,255); rect(width/2-60, height/2+20, 30,30);
        rect(width/2+30, height/2+20, 30,30);
      }
      else if (promptWord.includes("castle")) {
        fill(200,200,200); rect(width/2-100, height/2, 200,100);
        triangle(width/2-120, height/2, width/2-60, height/2-80, width/2, height/2);
        triangle(width/2, height/2-80, width/2+60, height/2-80, width/2+120, height/2);
      }
      else if (promptWord.includes("rocket")) {
        fill(180); triangle(width/2, height/2-80, width/2-30, height/2+40, width/2+30, height/2+40);
        fill(255,0,0); triangle(width/2-15, height/2+40, width/2+15, height/2+40, width/2, height/2+80);
      }
      else if (promptWord.includes("car")) {
        fill(255,0,0); rect(width/2-60, height/2, 120,40);
        fill(0); ellipse(width/2-40, height/2+40, 30); ellipse(width/2+40, height/2+40, 30);
      }
      // Food
      else if (promptWord.includes("apple")) {
        fill(255,0,0); ellipse(width/2, height/2, 80);
        fill(34,139,34); rect(width/2-5, height/2-50, 10,20);
      }
      else if (promptWord.includes("cake")) {
        fill(255,200,200); rect(width/2-50,height/2-30,100,60);
        fill(255,255,100); ellipse(width/2,height/2-30,100,30);
      }
      else if (promptWord.includes("pizza")) {
        fill(255,200,50); triangle(width/2-60,height/2, width/2+60,height/2, width/2, height/2-100);
      }
      else if (promptWord.includes("ice cream")) {
        fill(255,200,200); ellipse(width/2, height/2-50, 80);
        fill(200,150,100); triangle(width/2-25,height/2-10, width/2+25,height/2-10, width/2,height/2+50);
      }
      else if (promptWord.includes("balloon")) {
        fill(255,0,200); ellipse(width/2, height/2-50, 60);
        stroke(200); line(width/2, height/2-20, width/2, height/2+50);
      }
      else if (promptWord.includes("rainbow")) {
        noFill(); strokeWeight(10);
        let colors = [[255,0,0],[255,165,0],[255,255,0],[0,128,0],[0,0,255],[75,0,130],[238,130,238]];
        for (let i=0; i<colors.length; i++){
          stroke(colors[i][0], colors[i][1], colors[i][2]);
          arc(width/2, height/2+50, 400- i*20, 200 - i*20, PI, TWO_PI);
        }
      }
      else if (promptWord.includes("heart")) {
        fill(255,0,0); noStroke();
        beginShape();
        vertex(width/2, height/2);
        bezierVertex(width/2-50, height/2-50, width/2-50, height/2+30, width/2, height/2+50);
        bezierVertex(width/2+50, height/2+30, width/2+50, height/2-50, width/2, height/2);
        endShape(CLOSE);
      }
      // Fallback abstract
      else {
        for (let i=0; i<200; i++) {
          fuzzyBrush(random(width), random(height),
                     random(20,80),
                     [random(255),random(255),random(255)]);
        }
      }
    }
  </script>
</body>
</html>
